# restaurant-data-web-interface
The user can enter a postcode for 10 restaurants in that area, or view the default restaurant data from postcode 'EC4M7RF'. The restaurant data is generated by filtering and extracting data from the response of the third-party API. 

## How to build, compile and run the solution
To run this solution on a system, the following software must be installed
- A Java Development Kit (JDK)
- Maven 
- Visual Studio Code (VSC) with the extension [Live Server Extension](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer).
Detailed instructions on how to install the Live Server extension can be found [here](#how-to-install-the-live-server-extension-in-vsc),

versions for tools/dependecies can be found [here](#versions).

### 1. Run the backend
1.1. **Clone the Repository**
```sh
  git clone https://github.com/tuulaflynn/restaurant-data-web-interface
```
1.2. **Navigate to root of the cloned directory**
```sh
  cd restaurant-data-web-interface/proxy-server-for-web-interface
```
1.3. **Compile the Java program using Maven**
```sh
  mvn compile
```
1.4. **Package the application using Maven**
```sh
  mvn package
```
1.5 **Run the Java program (the JAR file)**
```sh
  java -jar target/proxy-server-for-web-interface-0.0.1-SNAPSHOT.jar     
```

### 2. Run the frontend 
2.1. Open the html file `restaurant-data-web-interface.html` in VSC.

2.2. Start the Live Server
- Method one
  -  open the command pallete by pressing `F1` or `Ctrl+Shift+P`
  -  type `Live Server: Open With Live Server`
  -  press enter or select the option from the pallete
- Method two
  - click anywhere in the file
  - press `(Alt+L, Alt+O)` on Windows or `(Cmd+L, Cmd+O)` on Mac
- Method three
  - right-click on the file in the explorer bar and choose the option `Open with Live Server`


#### To stop the Live Server 
- Method one 
  - open the command pallete by pressing `F1` or `Ctrl+Shift+P`
  - type `Live Server: Stop With Live Server`
  - press enter or select the option from the pallete
- Method two
  - click anywhere in the file
  - press `(Alt+L, Alt+C)` on Windows or `(Cmd+L, Cmd+C)` on Mac
- Method three
  - close VSC

   
#### How to install the Live Server extension in VSC
- Method one
  - use the Visual Studio Marketplace link: https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer
- Method two
  - open VSC
  - press `Ctrl+P`
  - type `ext install ritwickdey.liveserver`
- Method three
  - open VSC
  - press `Ctrl+Shift+X` to open the extensions panel
  - type `Live Server` into the search bar
  - add the extension with name: Live Server, id: ritwickdey.LiveServer and publisher: Ritwick Dey


### Versions
#### Tools
- Java Development Kit (JDK): `17`
- Maven: `3.9.6`
- Visual Studio Code (VSC): `1.87.0`
- Live Server Extension: `5.7.9`

#### Dependencies
- Spring Boot: `3.2.3`
- Gson: `2.10.1`

  
## Assumptions / things that were not clear to me
While I could retrieve the response object from the API using Postman without issues, I encountered a Cross-Origin Resource Sharing (CORS) error when attempting to fetch data using the JavaScript fetch API in the client-side application. To solve this error, I created a proxy server using Java and Spring Boot. This proxy server acts as an intermediary between the client-side application and the third-party API. I used the @CrossOrigin annotation in the backend application for the web interface, as the third-party API resides on a different domain. By routing requests to the backend server, which initiates requests to the third-party API and returns the response to the client side, I effectively bypassed CORS restriction. 

Filtering the response in the backend meant less unnecessary data was passed to the client. Given the large response body, this optimisation meant the restaurant data on the web interface loads better. 

In my previous projects, I've developed web interfaces alongside their respective applications. However, I found it challenging to create a web interface in isolation without the context of the application it serves. The CORS issue prompted me to develop an application to complement the web interface. 

## Improvement / future edits
- Using TypeScript instead of JavaScript to enforce types on the client-side code. 
- Create a WAR file and deploy my application. 
- Include unit test with JUnit5 to have a more robust application
- Make @CrossOrigin annotation more restrictive - allows only ports running from the users local machine (i.e. domain names localhost or 127.0.0.1)
- More user feedback:
    - during the request-response cycle, while the form submission is being processed, a loading screen could be displayed to indicate that the application is awaiting the response
    - restrict user entry in the form to only characters contained in postcodes
    - add what countries postcodes are accepted from
 
## Comments
I've commented the code extensively in some places, especially concerning JSON parsing on the backend. This is to help me in future as it will be a handy reference given it is my first time working with JSON in the backend. 
